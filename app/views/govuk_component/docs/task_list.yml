name: Task list
description: Numbered groups containing expanding/collapsing steps
body: |
  Task lists are designed to show a sequence of steps towards a specific goal, such as 'learning to drive'. Each group of a task list can contain one or more steps. Each step can contain one or more links to pages. User research suggested that each step should be collapsed by default so that users are not overwhelmed with information.

  If JavaScript is disabled the task list expands fully. All of the task list functionality (including the icons and aria attributes) are added using JavaScript.

  The task list is based on the accordion component in collections, but has been altered. This is for two reasons.

  - task lists are needed throughout GOV.UK and extending the accordion to be the task list would require promoting it to static, which would break integration testing
  - creating a new component allows further iteration without impacting the accordion

  Changes in the task list code that are different from the accordion:

  - functionality to 'remember' the last opened step in the URL is disabled by default
  - a step can be open by default
  - visual changes (see below)
accessibility_criteria: |
  The task list must:

  - indicate to users that each step can be expanded and collapsed
  - inform the user when a step has been expanded or collapsed
  - be usable with a keyboard
  - allow users to open or close all steps at once
  - inform the user which step a link belongs to
  - inform the user which step the current page is in, particularly where there are multiple steps in one group

  The open/close all button only needs to list the first panel id in the aria-controls attribute, rather than all of them.

  Step headings must use a button element:

  - so that steps can be toggled with the space and enter keys
  - so that steps can't be opened in a new tab or window

  When JavaScript is unavailable the task list must:

  - be fully expanded
  - not be marked as expandable
shared_accessibility_criteria:
  - link
examples:
  default:
    data:
      groups: [
        [
          {
            title: "First",
            contents: [
              {
                type: 'paragraph',
                text: 'This is a paragraph of text.'
              },
              {
                type: 'paragraph',
                text: 'This is also a paragraph of text that intentionally contains lots of words in order to fill the width of the page successfully to check layout and so forth.'
              }
            ]
          },
          {
            title: "Second",
            contents: [
              {
                type: 'paragraph',
                text: 'You can group steps together like this.'
              },
            ]
          }
        ],
        [
          {
            title: "Third",
            contents: [
              {
                type: 'paragraph',
                text: 'This is yet another paragraph.'
              }
            ]
          }
        ]
      ]
  with_links:
    description: Links can be included with an optional parameter for if the link should be styled as active, and if a value for 'cost' should be shown after the link.
    data:
      groups: [
          [
            {
              title: "Example step containing links",
              contents: [
                {
                  type: 'list',
                  links: [
                    {
                      path: '/test1',
                      text: 'Link 1',
                    },
                    {
                      path: '/test2',
                      text: 'Link 2',
                      active: false,
                      cost: '&pound;50 to &pound;100'
                    }
                  ]
                }
              ]
            }
          ],
          [
            {
              title: "Example step containing links and paragraphs",
              contents: [
                {
                  type: 'paragraph',
                  text: 'You can include paragraphs and links together in any order as required.'
                },
                {
                  type: 'list',
                  style: '',
                  links: [
                    {
                      path: '/test3',
                      text: 'Link 3',
                    },
                    {
                      path: '/test4',
                      text: 'Link 4',
                      cost: '&pound;0 to &pound;300'
                    },
                    {
                      path: '/test5',
                      text: 'Link 5',
                    }
                  ]
                },
                {
                  type: 'paragraph',
                  text: 'Like this.'
                }
              ]
            }
          ]
        ]
